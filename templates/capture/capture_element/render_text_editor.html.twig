{% extends 'base.html.twig' %}
{% block title %}Edition du rendu
{% endblock %}

{% block body %}

    <h1>Editer le rendu du document</h1>

    {{ form_start(form) }}

    {# TITLE #}
    <div class="row align-items-end g-3">
        <div class="col-md-4">
            {{ form_row(form.title.content) }}
        </div>
        <div class="col-md-2">
            {{ form_row(form.title.level) }}
        </div>
        <div class="col-md-6 d-flex justify-content-end align-items-end gap-2">
            {% include 'components/button/_btn.html.twig' with {
                btn: {
                    type: 'link',
                    route: 'app_capture_template_edit',
                    param_map: { id: 'element.capture.id' },
                    icon: 'bi-arrow-left',
                    label: 'Retour',
                    class: 'btn btn-outline-primary'
                }
            } %}
            {% include 'components/button/_btn.html.twig' with {
                btn: {
                    type: 'submit',
                    icon: 'bi-check',
                    label: 'Enregistrer',
                    class: 'btn btn-primary btn-sm'
                }
            } %}
        </div>
    </div>

    <div class="row mt-3">
        {# EDITOR #}
        <div class="col-10">
            {{ form_row(form.templateContent) }}
        </div>

        {# AVAILABLE VARIABLES NAMES #}
        <div class="col-2">
            <div class="mb-2">Variables disponibles</div>
            <div class="form-control">
                {% for variable in variables %}
                    <div><code>[{{ variable }}]</code></div>
                {% else %}
                    Aucune variable disponible
                {% endfor %}
            </div>
        </div>
    </div>

    {{ form_end(form) }}

{% endblock %}
